'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _restleMemory = require('restle-memory');

var _restleMemory2 = _interopRequireDefault(_restleMemory);

var _router = require('../router');

var _router2 = _interopRequireDefault(_router);

var _express = require('express');

var _express2 = _interopRequireDefault(_express);

exports['default'] = function (instance) {
  var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

  Object.assign(instance, {
    models: {},
    adapter: options.adapter || new _restleMemory2['default'](),
    router: new _router2['default'](options),
    app: (0, _express2['default'])(),
    namespace: options.namespace ? '/' + options.namespace : '',
    port: options.port || 3000,
    cors: options.cors || '*'
  });
};

module.exports = exports['default'];